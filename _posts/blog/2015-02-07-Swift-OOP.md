---
layout:     post
title:      Swift面向对象编程
category: blog
description: Swift的主要编程范式是面向对象编程，这一篇介绍Swift的面向对象特性
tags: blog
---

Swift的主要编程范式是面向对象编程，这一篇介绍Swift的面向对象特性。

## 面向对象

面向对象的三个基本特征是：封装，继承，和多态。

Swift完整支持了面向对象编程范式。所以，这三个基本概念在Swift中都得到了完整体现。对于使用Java或者Objective－C这样面向对象编程语言的程序员，Swift在面向对象方面的概念会显得很熟悉，上手也很快。

## 封装

封装，指将从客观事物抽象得到的数据和行为组成一个有机的整体，也就是抽象成“类”。类对于外部隐藏其数据和方法实现细节，仅对外公开接口，控制对对象的数据的读写的访问级别。

Swfit可以创建类（class），结构体（struct）和枚举类型（enum）。这三种类型都可以对数据和方法进行面向对象式的有效的组织。结构体和枚举类型，相对于类（class）有一些特别的地方。首先，相同的地方是，这三者都是用于封装数据和行为的。但是，结构体和枚举是不能继承或者被继承的。所以，不同于类，这两种数据类型也就没有多态性。

#### 结构体

#### 枚举

#### 嵌套类型

#### 属性

#### 访问级别

Swift中，对于类，结构体和枚举中声明的实例变量和方法，都可以设置访问级别：

- public，可以被该模块外的实体访问。通常用于暴露模块的某些功能。
- Internal，可以被本模块内的任何实体访问。对模块内部暴露功能，但对模块外部隐藏实现细节。这也是Swift默认的访问级别。
- private，只能被当前文件中的实体访问。用于隐藏某些功能实现细节。

#### 扩展（extension）


## 继承

继承，指在一个类基础上定义一个新类。新类可以使用原有类的数据和方法。

Swift只能继承自单一基类，但可以实现多个协议（protocol）。这类似于Java只能单继承但可以实现多个接口，而不同于C++的多重继承。

#### 协议（protocol）

#### 重写（overidding）

Swift提供了重写（overriding）保护机制。如果要重写基类的方法，就必须在子类的重写方法前加上`overriding`关键字。这么做是向编译器声明你想提供一个重写版本。编译器会确认，基类里确实存在具有相同方法定义。如果，基类中没有相同的方法定义，编译器就会报错。另一方面，如果，没有加上`overriding`关键字的方法和基类的某个方法定义相同，编译器也会报错，以防止意外的重写行为。这样就能从两方面保证重写行为的正确性。

## 多态

多态（polymorphism），是面向对象编程的核心概念之一。指接口可以有多种不同的实现方式，并且可以在运行时替换具有相同接口的对象。

动态绑定(dynamic binding)是一个和多态紧密联系的概念。当给对象发送请求时，所引起的具体操作既与请求本身有关，又与接受对象有关。支持相同请求的不同对象可能对请求激发的操作有不同的实现。发送给对象的请求和它的相应操作在运行时刻的连接就称之为动态绑定。动态绑定允许你在运行时刻彼此替换有相同接口的对象。这种可替换性就称为多态。

#### 类型转换

#### 不确定类型：Any和AnyObject

## 总结

Swift完整地支持面向对象编程，拥有完备的面向对象基础工具。这使得熟悉面向对象编程的程序员学习和使用Swift的成本降低了。Java或者Objective-C程序员对Swift的很多概念可能会觉得很熟悉，所以学习Swift并不会太困难，很快就能将Swift投入到实际生产之中。

现代编程语言，面向对象仍然占据绝对领先地位。绝大部分程序员也是编写面向对象程序。大公司在这面向对象编程上的投资巨大，学术界也在面向对象编程上有诸多的研究成果。虽然，我们现在已经了解到了面向对象编程在处理并发，多线程场景下会有严重的问题。但是，面向对象仍然有其他的很多的好处，比如，接近于人类思维的建模方式。大部分场景下，面向对象编程仍然具有优势。所以，在很长一段时间内，我们仍然无法，也没有必要完全抛弃面向对象编程。Swift作为一门实用的工业语言，拥有对面向对象编程的良好支持是十分必要且明智的。
